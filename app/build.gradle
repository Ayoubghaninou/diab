apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

android {
    Properties properties = new Properties()
    properties.load(project.rootProject.file("local.properties").newDataInputStream())

    compileSdkVersion 28

    defaultConfig {
        applicationId "it.diab"
        minSdkVersion 24
        targetSdkVersion 28

        versionCode appVersionCode
        versionName appVersionName

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"

        buildConfigField "Boolean", "HAS_FIT", properties.getProperty("diab.fit", "false")

        kapt.arguments {
            arg("room.schemaLocation", "$projectDir/schemas".toString())
        }
    }

    buildTypes {

        release {
            minifyEnabled true
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    implementation supportLib.appcompat
    implementation supportLib.cardview
    implementation supportLib.constraint

    implementation kotlinLib.stdlib

    implementation lifecycleLib.extensions
    kapt lifecycleLib.compiler
    implementation roomLib.runtime
    kapt roomLib.compiler
    implementation pagingLib.runtime

    implementation googleLib.auth
    implementation googleLib.fit
    implementation googleLib.material

    implementation extLib.mpchart

    testImplementation testLib.junit
    androidTestImplementation testLib.rules
    androidTestImplementation testLib.runner
    androidTestImplementation testLib.espresso
}

repositories {
    mavenCentral()
    google()
}
